<html>
<head>
<style type="text/css">

#card_box_3d {
    width: 600px;
    height: 400px;
    padding: 40px;
    border: 1px solid gray;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
}

.card {
    width: 400px;
    height: 200px;
    position: absolute;
    top: 100px;
    left: 140px;
    font-size: 16px;
    letter-spacing: 0.3em;
    font-weight: bold;
    font-family: Helvetica, Arial, sans-serif;
}

.card .name {
    position: absolute;
    left: 50px;
    top: 60px;
    width: 300px;
    padding-bottom: 20px;
    text-align: center;
    font-size:1.1em
}

.card .name div {
    display: inline-block;
}

.card .occupation {
    position: absolute;
    top: 120px;
    left: 20px;
    width: 360px;
    text-align: center;
    font-size: 0.9em;
    font-weight: normal;
}

/*###############################*/
.card {
    -webkit-transform: perspective(0px) rotateX(0deg) rotateY(10deg) rotateZ(10deg);
    background: -webkit-linear-gradient(top, rgba(250,250,250,1) 0%,rgba(224,224,224,1) 100%);
    -webkit-box-shadow: 2px 2px 10px 0px rgba(0,0,0,0.4);
}


/*###############################*/

#controls {
    margin: 0 auto;
    width: auto;
    text-align: center;
}

#generate_button {
}

#controls>div
{
    margin-top: 1em;
}

footer {
    margin-top: 1em;
    text-align: center;
}

.repo {
    text-align: center;
}
</style>
<title>Business Job Title Generator</title>
</head>
<body>
<div id="card_box_3d">
    <div class="card">
        <div class="name">
            <span class="first_name">John M.</span>
            <span class="last_name">Doe</span>
        </div>
        <div id="title_generated" class="occupation"></div>
    </div>
</div>

<hr>

<div id="controls">
    <div class="customize_name">
        <label>First name: <input type="text" name="first_name" id="first_name" value="John M." /></label>
        <label>Last name: <input type="text" name="last_name" id="last_name" value="Doe" /></label>
    </div>
    <div class="customize_title">
        <label>1st<input type="range" name="title_first" id="title_first" min="0" value="0" max="50" /></label>
        <label>2nd<input type="range" name="title_second" id="title_second" min="0" value="0" max="50" /></label>
        <label>3rd<input type="range" name="title_third" id="title_third" min="0" value="0" max="50" /></label>
    </div>
    <div class="customize_title">
        <button id="generate_button">Generate random title</button>
    </div>
</div>

<footer>

</footer>
<div class="repo">
    <a href="https://github.com/leonweidauer/job-title-generator" title="visit the jobtitle generator repository on github">visit the github repository...</a>
</div>
</body>
<script type="text/javascript">
var TitleGenerator = (function(){

    var title_parts = [
        [
            "Adaptive",
            "Administrative",
            "Assistant",
            "Authorized",
            "Autonomous",
            "Chief",
            "Civilian",
            "Collective",
            "Common",
            "Consumer",
            "Corporate",
            "Creative",
            "Customer",
            "Domestic",
            "Educational",
            "Enterprise",
            "Essential",
            "Executive",
            "Federal",
            "First",
            "Foreign",
            "Future",
            "General",
            "Global",
            "Head",
            "Independent",
            "Interim",
            "International",
            "Lead",
            "Legal",
            "Local",
            "Major",
            "Minor",
            "Offshore",
            "Planetary",
            "Professional",
            "Public",
            "Qualified",
            "Regional",
            "Responsible",
            "Retail",
            "Seamless",
            "Secondary",
            "Senior",
            "Social",
            "Strategic",
            "Structural",
            "Superior",
            "Universal",
            "Vintage",
            "Worldwide"
        ],[
            "Account",
            "Advertising",
            "Advice",
            "Art",
            "Assembly",
            "Asset",
            "Assurance",
            "Audit",
            "Balance",
            "Brand",
            "Budget",
            "Business",
            "Career",
            "Case",
            "Collaboration",
            "Commitment",
            "Committee",
            "Communications",
            "Community",
            "Competition",
            "Confidence",
            "Construction",
            "Contract",
            "Convergence",
            "Cost",
            "Creative",
            "Credit",
            "Crisis",
            "Customer",
            "Design",
            "Distribution",
            "Education",
            "Employment",
            "Equity",
            "Ethics",
            "Event",
            "Export",
            "Facility",
            "Finance",
            "Governance",
            "Guidance",
            "Health Care",
            "Helpdesk",
            "Heritage",
            "Human Resources",
            "IT",
            "Import",
            "Industry",
            "Infrastructure",
            "Innovation",
            "Insurance",
            "Interaction",
            "Investment",
            "Iteration",
            "Knowledge",
            "Law",
            "Leverage",
            "Loan",
            "Logistics",
            "Loyalty",
            "Management",
            "Market",
            "Marketing",
            "Media",
            "Merchandise",
            "Monitoring",
            "Network",
            "Offshoring",
            "Opportunity",
            "Order",
            "Outsourcing",
            "Payroll",
            "Performance",
            "Policy",
            "Privacy",
            "Process",
            "Product",
            "Product Lifecycle",
            "Production",
            "Profit",
            "Project",
            "Promotion",
            "Property",
            "Publicity",
            "Quality",
            "Real Estate",
            "Relations",
            "Reproduction",
            "Research",
            "Resource",
            "Responsibility",
            "Risk",
            "Sales",
            "Sanitation",
            "Security",
            "Service",
            "Social",
            "Social Media",
            "Solution",
            "Supply Chain",
            "Support",
            "Sustainability",
            "Talent",
            "Taxation",
            "Technology",
            "Trade",
            "Trademark",
            "Trading",
            "Training",
            "Transaction",
            "Transparancy",
            "Transportation",
            "Travel",
            "User",
            "User Experience",
            "Visionary",
            "Web" 
        ],[
            "Accountant",
            "Administrator",
            "Advisor",
            "Advocate",
            "Agent",
            "Analyst",
            "Architect",
            "Artist",
            "Attourney",
            "Authority",
            "Broker",
            "Chairman",
            "Coach",
            "Consultant",
            "Controller",
            "Coordinator",
            "Director",
            "Dispatcher",
            "Editor",
            "Enforcer",
            "Engineer",
            "Enthusiast",
            "Evangelist",
            "Expert",
            "Instructor",
            "Lawyer",
            "Manager",
            "Manufacturer",
            "Mentor",
            "Officer",
            "Opener",
            "Operator",
            "Partner",
            "Practitioner",
            "President",
            "Principal",
            "Provider",
            "Secretary",
            "Specialist",
            "Strategist",
            "Supervisor",
            "Technician",
            "Trader",
            "Trainer",
            "Tutor"
        ]
    ];

    var $ = function(selector, base_element)
    {
        if (!base_element)
        {
            base_element = document;
        }

        return base_element.querySelector(selector);
    };

    var build_title = function(indexes)
    {
        var i, title = '';

        for (i in indexes)
        {
            if (indexes.hasOwnProperty(i))
            {
                if (i > 0)
                {
                    title = title + ' ';
                }
                title = title + title_parts[i][indexes[i]];
            }
        }

        return title;
    };

    var build_hash = function(indexes)
    {
        return indexes.join(hash_delimiter);
    };

    var render_title = function(indexes, id)
    {
        var new_title = build_title(indexes);
        var new_hash = '#' + build_hash(indexes);

        generated_title.innerHTML = new_title;

        update_range_inputs(indexes);

        if (window.history && window.history.pushState)
        {
            window.history.pushState({}, new_title, new_hash);
        }
        else
        {
            document.location.href = base_url + new_hash;
        }
    };

    var generate_jobtitle = function(hash)
    {
        if (!hash)
        {
            return;
        }

        var i, n, indexes;

        hash = hash.substring(1);
        indexes = hash.split(hash_delimiter);

        render_title(indexes);
    };

    var generate_random_jobtitle = function()
    {
        var i, n, indexes = [], hash = '';
       
        for (i in title_parts)
        {
            if (title_parts.hasOwnProperty(i))
            {
                indexes.push(Math.floor(Math.random() * title_parts[i].length));
            }
        }

        render_title(indexes);
    }

    var title_count = function()
    {
        var i, num = 1;

        for (i in title_parts)
        {
            if (title_parts.hasOwnProperty(i))
            {
                num *= title_parts[i].length;
            }
        }

        return num;
    };

    var update_footer = function()
    {
        $('footer').innerHTML = 'There are ' + title_count() + ' job titles available. One\'s for you! :-)';
    };

    var update_range_inputs = function(indexes)
    {
        for (var i in indexes)
        {
            if (indexes.hasOwnProperty(i))
            {
                title_part_inputs[i].value = indexes[i];
            }
        }
    };

    var hash_delimiter = '_';
    var hash_pattern = new RegExp('#\\d+'+hash_delimiter+'\\d+'+hash_delimiter+'\\d+');
    var base_url = document.location.href.split('#').shift();

    var generated_title = document.getElementById('title_generated');

    var generate_button = document.getElementById('generate_button');
    generate_button.addEventListener('click', generate_random_jobtitle, false);
    
    var first_name_input = document.getElementById('first_name');
    var last_name_input = document.getElementById('last_name');

    var first_name = $('#card_box_3d .first_name');
    var last_name = $('#card_box_3d .last_name');

    var title_part_inputs = [
        document.getElementById('title_first'),
        document.getElementById('title_second'),
        document.getElementById('title_third')
    ];

    // initialize sliders with number of available words
    for (i in title_parts)
    {
        if (title_parts.hasOwnProperty(i))
        {
            title_part_inputs[i].min = 0;
            title_part_inputs[i].max = title_parts[i].length;
            title_part_inputs[i].onchange = function(ev)
            {
                var new_indexes = [];

                for (var k in title_part_inputs)
                {
                    if (title_part_inputs.hasOwnProperty(k))
                    {
                        new_indexes[k] = title_part_inputs[k].value;
                    }
                }

                document.location.hash = '#' + build_hash(new_indexes);
            };
        }
    }

    first_name_input.addEventListener('change', function()
    {
        first_name.innerHTML = this.value;
    }, false);

    first_name_input.addEventListener('keyup', function()
    {
        first_name.innerHTML = this.value;
    }, false);

    last_name_input.addEventListener('keyup', function()
    {
        last_name.innerHTML = this.value;
    }, false);

    last_name_input.addEventListener('change', function()
    {
        last_name.innerHTML = this.value;
    }, false);

    if ("onhashchange" in window)
    {
        var hash_changed = function()
        {
            if (hash_pattern.test(document.location.hash))
            {
                generate_jobtitle(window.location.hash);
            }
        }

        window.addEventListener("hashchange", hash_changed, false);
    }

    return {
        show: function()
        {
            update_footer();

            if (document.location.hash && hash_pattern.test(document.location.hash))
            {
                generate_jobtitle(document.location.hash);
            }
            else
            {
                generate_random_jobtitle();
            }
        },

        getTitleCount: function()
        {
            return title_count();
        }
    };
})();

if (window.console && console.log)
{
    console.log('There are ', TitleGenerator.getTitleCount(), ' job titles in the database! ;-)');
}

TitleGenerator.show();

</script>
</html>
