<html>
<head>
<style type="text/css">

#card_box_3d {
    width: 600px;
    height: 400px;
    padding: 40px;
    border: 1px solid gray;
    margin: 0 auto;
    overflow: hidden;
    position: relative;
}

.card {
    width: 400px;
    height: 200px;
    position: absolute;
    top: 100px;
    left: 140px;
    font-size: 16px;
    letter-spacing: 0.3em;
    font-weight: bold;
    font-family: Helvetica, Arial, sans-serif;
}

.card .name {
    position: absolute;
    left: 50px;
    top: 60px;
    width: 300px;
    padding-bottom: 20px;
    text-align: center;
    font-size:1.1em
}

.card .name div {
    display: inline-block;
}

.card .occupation {
    position: absolute;
    top: 120px;
    left: 20px;
    width: 360px;
    text-align: center;
    font-size: 0.9em;
    font-weight: normal;
}

/*###############################*/
.card {
    -webkit-transform: perspective(0px) rotateX(0deg) rotateY(10deg) rotateZ(10deg);
    background: -webkit-linear-gradient(top, rgba(250,250,250,1) 0%,rgba(224,224,224,1) 100%);
    -webkit-box-shadow: 2px 2px 10px 0px rgba(0,0,0,0.4);
}


/*###############################*/

#controls {
    margin: 0 auto;
    width: auto;
    text-align: center;
}

#generate_button {
}
</style>
<title>Business Title Generator</title>
</head>
<body>
<div id="card_box_3d">
    <div class="card">
        <div class="name">
            <span class="first_name">John M.</span>
            <span class="last_name">Doe</span>
        </div>
        <div id="title_generated" class="occupation"></div>
    </div>
</div>

<hr>
<div id="controls">
    <button id="generate_button">Generate new title!</button>
</div>
</body>
<script type="text/javascript">
var TitleGenerator = (function(){

    var parts = [
        [
            'Lead',
            'Senior',
            'Executive',
            'Global',
            'Chief',
            'Head',
            'Assistant',
            'Planetary',
            'Universal',
            'Administrative',
            'Seamless',
            'Qualified',
            'Professional',
            'Consumer',
            'Strategic',
            'Independent',
            'Essential',
            'Creative',
            'Secondary',
            'First',
            'Major',
            'Minor',
            'Vintage',
            'Social',
            'Interim',
            'Public',
            'Superior',
            'Autonomous',
            'Collective',
            'Common',
            'General',
            'Authorized',
            'Foreign',
            'Federal',
            'Retail',
            'Responsible',
            'Future',
            'International',
            'Educational',
            'Domestic',
            'Offshore',
            'Structural',
            'Enterprise',
            'Legal',
            'Corporate',
            'Customer',
            'Worldwide',
            'Regional',
            'Civilian',
            'Adaptive',
            'Local'
        ],[
            'Account',
            'Project',
            'Customer',
            'Visionary',
            'Relations',
            'Business',
            'Resource',
            'Sales',
            'Logistics',
            'Transaction',
            'Asset',
            'Management',
            'Education',
            'Facility',
            'Knowledge',
            'Social',
            'Committee',
            'Sanitation',
            'Helpdesk',
            'User Experience',
            'Innovation',
            'Marketing',
            'Human Resources',
            'Supply Chain',
            'Finance',
            'Production',
            'Product',
            'Payroll',
            'Credit',
            'Event',
            'Career',
            'Order',
            'Opportunity',
            'Service',
            'Talent',
            'Budget',
            'Media',
            'Reproduction',
            'Creative',
            'Trading',
            'Import',
            'Export',
            'Art',
            'Social Media',
            'Web',
            'Interaction',
            'Construction',
            'Transportation',
            'Support',
            'Collaboration',
            'Advice',
            'User',
            'Audit',
            'Law',
            'IT',
            'Loan',
            'Crisis',
            'Risk',
            'Privacy',
            'Security',
            'Promotion',
            'Quality',
            'Technology',
            'Trademark',
            'Brand',
            'Publicity',
            'Real Estate',
            'Industry',
            'Assembly',
            'Advertising',
            'Design',
            'Product Lifecycle',
            'Distribution',
            'Loyalty',
            'Merchandise',
            'Ethics',
            'Sustainability',
            'Transparancy',
            'Responsibility',
            'Research',
            'Property',
            'Equity',
            'Trade',
            'Balance',
            'Investment',
            'Market',
            'Training',
            'Cost',
            'Travel',
            'Outsourcing',
            'Offshoring',
            'Communications',
            'Process',
            'Infrastructure',
            'Performance',
            'Employment',
            'Leverage',
            'Heritage',
            'Solution',
            'Contract',
            'Governance',
            'Profit',
            'Guidance',
            'Commitment',
            'Assurance',
            'Insurance',
            'Monitoring',
            'Network',
            'Competition',
            'Health Care',
            'Policy',
            'Taxation',
            'Confidence',
            'Case',
            'Convergence',
            'Community',
            'Iteration'
        ],[
            'Manager',
            'Consultant',
            'Officer',
            'Evangelist',
            'Architect',
            'Accountant',
            'Supervisor',
            'Controller',
            'Artist',
            'Technician',
            'Director',
            'Enforcer',
            'Agent',
            'Operator',
            'Specialist',
            'President',
            'Secretary',
            'Engineer',
            'Instructor',
            'Chairman',
            'Strategist',
            'Trainer',
            'Editor',
            'Coordinator',
            'Trader',
            'Opener',
            'Enthusiast',
            'Advocate',
            'Analyst',
            'Broker',
            'Mentor',
            'Manufacturer',
            'Authority',
            'Expert',
            'Practitioner',
            'Advisor',
            'Coach',
            'Lawyer',
            'Attourney',
            'Provider',
            'Administrator',
            'Partner',
            'Dispatcher',
            'Principal',
            'Tutor'
        ]

    ];

    var hash_delimiter = '_';
    var dom_id = 'title_generated';
    var base_url = document.location.href.split('#').shift();

    var build_title = function(indexes) {
        var i;
        var title = '';

        for (i in indexes) {
            if (indexes.hasOwnProperty(i)) {
                if (i > 0) {
                    title = title + ' ';
                }
                title = title + parts[i][indexes[i]];
            }
        }

        return title;
    }

    var build_hash = function(indexes) {
        return indexes.join(hash_delimiter);
    }

    var render_title = function(indexes, id) {
        document.getElementById(dom_id).innerHTML = build_title(indexes);

//        document.location.hash = build_hash(indexes);
        document.location.href = base_url + '#' + build_hash(indexes);
    }


    var recall_hash= function(hash) {
        var i, n, indexes;
        hash = hash.substring(1);
            
        indexes = hash.split(hash_delimiter);

        render_title(indexes);
    };

    var generate = function(){
        var i;
        var n;
        var indexes = [];
        var hash = '';

        for (i in parts) {
            if (parts.hasOwnProperty(i)) {
                n = Math.floor(Math.random()*parts[i].length);
                indexes.push(n); 
            }
        }

        render_title(indexes);
    }

    document.getElementById('generate_button').addEventListener('click', generate, false);

    return {
        show: function() {
            if (document.location.hash) {
                recall_hash(document.location.hash);
            } else {
                generate();
            }
        },
        getTitleCount: function() {
            var i;
            var s = 1;
            for (i in parts) {
                if (parts.hasOwnProperty(i)) {
                    s = s * parts[i].length;
                }
            }

            return s;
        }
    };
})();

console.log(TitleGenerator.getTitleCount());
TitleGenerator.show();
</script>
</html>
